@model PenTester.Objects.DynamicPlugin

@{
    ViewBag.Title = "Verify Plugin";
}

<h2>Verify Plugin (click to expand)</h2>

<h3 onclick="toggleObject(@("\"" + Model.name + "\""))" class="objectName">@Model.name</h3>

<div id="@Model.name" class="objectData">
    <ul>
    @foreach (string field in Model.stringFields)
    {
        <li>@field</li>
    }

    @if (Model.nestedObjects.Count > 0)
    {
        @Html.Partial("_DynamicPluginPartial", Model.nestedObjects)
    }
    </ul>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".objectData").hide();
    });

    function toggleObject(mName) {
        $("#" + mName).toggle();
    }
</script>